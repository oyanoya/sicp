# 1.11

## A function f is defined by the rule that f(n)=n if n<3 and f(n)=f(n−1)+2f(n−2)+3f(n−3) if n≥3. Write a procedure that computes f by means of a recursive process. Write a procedure that computes f by means of an iterative process.

---

### Recursive

```
(define (f n) (cond ((< n 3) n)
                 (else (+ (f (- n 1))
                          (* 2 (f (- n 2))) 
                          (* 3 (f (- n 3)))))))
```

### Iterative

```
(define (calculate-current previous1 previous2 previous3)
                          (+ previous1 (* 2 previous2) (* 3 previous3)))

(define (f-iter-impl n previous1 previous2 previous3 count) 
         (cond ((< n 3) n)
               ((= n count) (calculate-current previous1 previous2 previous3)) 
               (else (f-iter-impl n (calculate-current previous1 previous2 previous3) previous1 previous2 (+ 1 count)))
               ))


(define (f-iter n) (f-iter-impl n 2 1 0 3))

```

### Explanation (Iterative):

To make the function iterative, we need to keep track of the state of the parameters before they re-enter the method.

We know that:

```
f(0) => 0
f(1) => 1
f(2) => 2
```

Therefore we will use these values as default starting arguments for our function and build up from there.

For each new (f), we will re-use the result of the f(count-1), f(count-2) and f(count-3) values available in the f(count -1) step, climbing up until our N is equal to the number of iterations (count).

```
f(3) -> f(2) + 2f(1) + 3f(0)
 |       |       |
 |.......,.......,....... 
         |       |      |
f(4) -> f(3) + 2f(2) + 3f(1)
 |       |       |
 |.......,.......,....... 
         |       |      |
f(5) -> f(4) + 2f(3) + 3f(2)
```
